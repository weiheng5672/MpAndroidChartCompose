

@Composable
fun MyLineChart(
    modifier: Modifier = Modifier
) {
    AndroidView(
        modifier = modifier.fillMaxSize(),
        factory = { context ->
            val lineChart = LineChart(context)

            // 初始化 LineEntries 列表
            val lineEntriesList = ArrayList<Entry>().apply {
                add(Entry(1f, 5f))
                add(Entry(2f, 4f))
                add(Entry(3f, 3f))
                add(Entry(4f, 2f))
                add(Entry(5f, 1f))
            }

            // 创建 LineDataSet 和 LineData
            val lineDataSet = LineDataSet(lineEntriesList, "Line Chart Data").apply {
                color = ContextCompat.getColor(context, R.color.purple_200)
                valueTextColor = Color.RED
                valueTextSize = 25f
                lineWidth = 2.5f
                setDrawCircles(true)
                setDrawCircleHole(false)
                circleRadius = 5f
            }

            val lineData = LineData(lineDataSet)

            // 设置 LineChart 数据和属性
            lineChart.apply {
                data = lineData
                description.isEnabled = false
                legend.isEnabled = false
                axisLeft.isEnabled = true
                axisRight.isEnabled = false
                xAxis.isEnabled = true
                xAxis.setDrawLabels(true)
                xAxis.position = XAxis.XAxisPosition.BOTTOM
                invalidate() // 刷新图表
            }

            lineChart
        }
    )
}
